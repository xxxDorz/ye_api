{"version":3,"file":"inspx.cjs.development.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from 'react';\nimport * as CSS from 'csstype';\nimport { getPlacementData, SIDE_OPTIONS } from '@radix-ui/popper';\nimport './styles.css';\n\n////////////////////////////////////////////////////////////////////////////////\n// <Inspect />\n\nexport interface InspectProps {\n  children: React.ReactElement | React.ReactElement[];\n  margin?: boolean;\n  padding?: boolean;\n  size?: boolean;\n  disabled?: boolean;\n}\n\nlet isCloke = false;\n\nexport default function Inspect({\n  children,\n  margin = true,\n  padding = true,\n  size = true,\n  disabled = process.env.NODE_ENV !== 'development',\n}: InspectProps) {\n  const nodesAtPointerRef = React.useRef<HTMLElement[]>([]);\n\n  React.useEffect(() => {\n    function onKeyDown(e: KeyboardEvent) {\n      if (e.key === 'Alt') {\n        if (margin) inspectMargin(nodesAtPointerRef.current);\n        if (size) inspectSize(nodesAtPointerRef.current);\n        if (padding) inspectPadding(nodesAtPointerRef.current);\n      }\n    }\n\n    function onKeyUp(e: KeyboardEvent) {\n      if (e.key === 'Alt') {\n        uninspect();\n      }\n    }\n\n    function onInspxSwitch() {\n      if (isCloke) {\n        uninspect();\n      } else {\n        if (margin) inspectMargin(nodesAtPointerRef.current);\n        if (size) inspectSize(nodesAtPointerRef.current);\n        if (padding) inspectPadding(nodesAtPointerRef.current);\n      }\n      isCloke = !isCloke;\n    }\n\n    if (!disabled) {\n      window.addEventListener('keyup', onKeyUp);\n      window.addEventListener('keydown', onKeyDown);\n      // @ts-ignore\n      window.addEventListener('inspxswitch', onInspxSwitch);\n    }\n\n    return () => {\n      window.removeEventListener('keyup', onKeyUp);\n      window.removeEventListener('keydown', onKeyDown);\n      // @ts-ignore\n      window.removeEventListener('inspxswitch', onInspxSwitch);\n    };\n  }, [margin, size, padding, disabled]);\n\n  if (disabled) {\n    return <React.Fragment>{children}</React.Fragment>;\n  }\n\n  return (\n    <span\n      onMouseOver={e => {\n        e.stopPropagation();\n\n        uninspect();\n\n        const nodes = document.elementsFromPoint(e.clientX, e.clientY) as HTMLElement[];\n\n        nodesAtPointerRef.current = nodes as HTMLElement[];\n\n        if (e.altKey || isCloke) {\n          if (margin) inspectMargin(nodes);\n          if (size) inspectSize(nodes);\n          if (padding) inspectPadding(nodes);\n        }\n      }}\n    >\n      {children}\n    </span>\n  );\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Imperative code is amazing.\n\nfunction createMarkerNode(text: string, type: string, popperOptions: any) {\n  const marker = document.createElement('inspx');\n  marker.innerText = text;\n  marker.setAttribute('type', type);\n\n  document.body.appendChild(marker);\n\n  const { width: popperWidth, height: popperHeight } = marker.getBoundingClientRect();\n\n  const { popperStyles } = getPlacementData({\n    popperSize: { width: popperWidth, height: popperHeight },\n    sideOffset: 8,\n    align: 'center',\n    side: 'bottom',\n    alignOffset: 0,\n    collisionBoundariesRect: DOMRect.fromRect({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      x: 0,\n      y: 0,\n    }),\n    collisionTolerance: 0,\n    shouldAvoidCollisions: true,\n    ...popperOptions,\n  });\n\n  Object.entries(popperStyles).forEach(([key, value]) => {\n    marker.style.setProperty(key, value);\n  });\n}\n\nfunction createMargin(index: number, value: number, node: HTMLElement, side: 'top' | 'right' | 'bottom' | 'left') {\n  const margin = document.createElement('margin');\n\n  const { width: nodeWidth, height: nodeHeight } = node.getBoundingClientRect();\n\n  const widths = [nodeWidth, value, nodeWidth, value];\n  const heights = [value, nodeHeight, value, nodeHeight];\n\n  const width = widths[index];\n  const height = heights[index];\n\n  style(margin, {\n    width,\n    height,\n  });\n\n  const { popperStyles } = getPlacementData({\n    popperSize: { width, height },\n    sideOffset: 0,\n    align: 'start',\n    side: side,\n    alignOffset: 0,\n    collisionBoundariesRect: DOMRect.fromRect({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      x: 0,\n      y: 0,\n    }),\n    anchorRect: node.getBoundingClientRect(),\n    collisionTolerance: 0,\n    shouldAvoidCollisions: false,\n  });\n\n  style(margin, popperStyles as any);\n  document.body.appendChild(margin);\n}\n\nfunction inspectMargin(nodes: HTMLElement[]) {\n  const marginNodes = nodes.filter(hasMargin);\n\n  const node = marginNodes[0];\n\n  if (!node) {\n    return;\n  }\n\n  node.setAttribute('data-inspx-active', '');\n\n  const { marginTop, marginRight, marginBottom, marginLeft } = window.getComputedStyle(node);\n\n  const margins = [marginTop, marginRight, marginBottom, marginLeft].map(m => parseInt(m, 10));\n\n  margins.forEach((margin, index) => {\n    if (!margin) {\n      return;\n    }\n\n    createMarkerNode(String(margin), 'margin', {\n      anchorRect: node.getBoundingClientRect(),\n      side: SIDE_OPTIONS[index],\n      shouldAvoidCollisions: false,\n      sideOffset: margin / 2 - 10,\n    });\n\n    createMargin(index, margin, node, SIDE_OPTIONS[index]);\n  });\n}\n\nfunction inspectSize(nodes: HTMLElement[]) {\n  const sizeNodes = nodes.filter(hasSize);\n\n  const node = sizeNodes[0];\n\n  if (!node) {\n    return;\n  }\n\n  node.setAttribute('data-inspx-active', '');\n\n  const { width, height, top, left, right, bottom } = node.getBoundingClientRect();\n\n  const marker = document.createElement('inspx');\n  marker.innerText = `${Math.round(width)} x ${Math.round(height)}`;\n  marker.setAttribute('type', 'size');\n\n  document.body.appendChild(marker);\n\n  const { width: markerWidth, height: markerHeight } = marker.getBoundingClientRect();\n\n  const x = (left + right) / 2 - markerWidth / 2;\n  const y = (top + bottom) / 2 - markerHeight / 2;\n\n  style(marker, getPlacementStylesForPoint({ x, y }));\n}\n\nfunction createPadding(node: HTMLElement, paddings: number[]) {\n  const padding = document.createElement('padding');\n\n  const { width, height, x, y } = node.getBoundingClientRect();\n\n  style(padding, {\n    ...getPlacementStylesForPoint({ x, y }),\n    width: width,\n    height: height,\n    'border-top-width': paddings[0],\n    'border-right-width': paddings[1],\n    'border-bottom-width': paddings[2],\n    'border-left-width': paddings[3],\n  });\n\n  document.body.appendChild(padding);\n}\n\nfunction inspectPadding(nodes: HTMLElement[]) {\n  const marginNodes = nodes.filter(hasPadding);\n\n  const node = marginNodes[0];\n\n  if (!node) {\n    return;\n  }\n\n  node.setAttribute('data-inspx-active', '');\n\n  const { paddingTop, paddingRight, paddingBottom, paddingLeft } = window.getComputedStyle(node);\n\n  const paddings = [paddingTop, paddingRight, paddingBottom, paddingLeft].map(m => parseInt(m, 10));\n\n  paddings.forEach((padding, index) => {\n    if (!padding) {\n      return;\n    }\n\n    createMarkerNode(String(padding), 'padding', {\n      anchorRect: node.getBoundingClientRect(),\n      side: SIDE_OPTIONS[index],\n      shouldAvoidCollisions: false,\n      sideOffset: -padding / 2 - 10,\n    });\n  });\n\n  createPadding(node, paddings);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers.\n\nfunction uninspect() {\n  Array.from(document.querySelectorAll('[data-inspx-active]')).forEach(node => {\n    node.removeAttribute('data-inspx-active');\n  });\n  Array.from(document.querySelectorAll('inspx')).forEach(marker => {\n    document.body.removeChild(marker);\n  });\n  Array.from(document.querySelectorAll('margin')).forEach(marker => {\n    document.body.removeChild(marker);\n  });\n  Array.from(document.querySelectorAll('padding')).forEach(marker => {\n    document.body.removeChild(marker);\n  });\n}\n\nfunction isDefined(margin: string) {\n  return !!parseInt(margin, 10);\n}\n\nfunction hasMargin(node: HTMLElement) {\n  const styles = window.getComputedStyle(node);\n\n  return (\n    isDefined(styles.marginTop) ||\n    isDefined(styles.marginRight) ||\n    isDefined(styles.marginBottom) ||\n    isDefined(styles.marginLeft) ||\n    isDefined(styles.margin)\n  );\n}\n\nfunction hasPadding(node: HTMLElement) {\n  const styles = window.getComputedStyle(node);\n\n  return (\n    isDefined(styles.paddingTop) ||\n    isDefined(styles.paddingRight) ||\n    isDefined(styles.paddingBottom) ||\n    isDefined(styles.paddingLeft) ||\n    isDefined(styles.padding)\n  );\n}\n\nfunction hasSize(node: HTMLElement) {\n  const styles = window.getComputedStyle(node);\n  return isDefined(styles.width) && isDefined(styles.height);\n}\n\nfunction style(node: HTMLElement, styles: Object) {\n  Object.entries(styles).forEach(([key, value]) => {\n    node.style.setProperty(key, typeof value === 'number' ? value + 'px' : value);\n  });\n}\n\nfunction getPlacementStylesForPoint(point: { x: number; y: number }): CSS.Properties {\n  const x = Math.round(point.x + window.scrollX);\n  const y = Math.round(point.y + window.scrollY);\n  return {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    minWidth: 'max-content',\n    willChange: 'transform',\n    transform: `translate3d(${x}px, ${y}px, 0)`,\n  };\n}\n"],"names":["isCloke","Inspect","children","margin","padding","size","disabled","process","nodesAtPointerRef","React","onKeyDown","e","key","inspectMargin","current","inspectSize","inspectPadding","onKeyUp","uninspect","onInspxSwitch","window","addEventListener","removeEventListener","onMouseOver","stopPropagation","nodes","document","elementsFromPoint","clientX","clientY","altKey","createMarkerNode","text","type","popperOptions","marker","createElement","innerText","setAttribute","body","appendChild","getBoundingClientRect","popperWidth","width","popperHeight","height","getPlacementData","popperSize","sideOffset","align","side","alignOffset","collisionBoundariesRect","DOMRect","fromRect","innerWidth","innerHeight","x","y","collisionTolerance","shouldAvoidCollisions","popperStyles","Object","entries","forEach","value","style","setProperty","createMargin","index","node","nodeWidth","nodeHeight","widths","heights","anchorRect","marginNodes","filter","hasMargin","getComputedStyle","marginTop","marginRight","marginBottom","marginLeft","margins","map","m","parseInt","String","SIDE_OPTIONS","sizeNodes","hasSize","top","left","right","bottom","Math","round","markerWidth","markerHeight","getPlacementStylesForPoint","createPadding","paddings","hasPadding","paddingTop","paddingRight","paddingBottom","paddingLeft","Array","from","querySelectorAll","removeAttribute","removeChild","isDefined","styles","point","scrollX","scrollY","position","minWidth","willChange","transform"],"mappings":"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"}