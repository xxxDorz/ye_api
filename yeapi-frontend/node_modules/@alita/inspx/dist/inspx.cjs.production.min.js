"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("@radix-ui/popper");function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}!function(e,n){void 0===n&&(n={});var t=n.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(":root {\n  --inspx-margin-color: #f24822;\n  --inspx-padding-color: #0bb658;\n  --inspx-size-color: #0070f3;\n  --inspx-active-color: #0070f330;\n}\n\ninspx {\n  box-sizing: border-box;\n  height: 20px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',\n    'Helvetica Neue', sans-serif;\n  font-size: 11px;\n  line-height: 20px;\n  text-align: center;\n  border-radius: 4px;\n  color: white;\n  padding: 0 4px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1337;\n}\n\n[data-inspx-active] {\n  background: var(--inspx-active-color) !important;\n}\n\nmargin {\n  background: var(--inspx-margin-color);\n  opacity: 0.4;\n}\n\npadding {\n  border-color: var(--inspx-padding-color);\n  border-style: solid;\n  opacity: 0.4;\n}\n\ninspx[type='margin'] {\n  background: var(--inspx-margin-color);\n}\n\ninspx[type='padding'] {\n  background: var(--inspx-padding-color);\n}\n\ninspx[type='size'] {\n  background: var(--inspx-size-color);\n}\n");var i=!1;function o(e,i,o){var r=document.createElement("inspx");r.innerText=e,r.setAttribute("type",i),document.body.appendChild(r);var d=r.getBoundingClientRect(),a=n.getPlacementData(t({popperSize:{width:d.width,height:d.height},sideOffset:8,align:"center",side:"bottom",alignOffset:0,collisionBoundariesRect:DOMRect.fromRect({width:window.innerWidth,height:window.innerHeight,x:0,y:0}),collisionTolerance:0,shouldAvoidCollisions:!0},o));Object.entries(a.popperStyles).forEach((function(e){r.style.setProperty(e[0],e[1])}))}function r(e){var t=e.filter(l)[0];if(t){t.setAttribute("data-inspx-active","");var i=window.getComputedStyle(t);[i.marginTop,i.marginRight,i.marginBottom,i.marginLeft].map((function(e){return parseInt(e,10)})).forEach((function(e,i){e&&(o(String(e),"margin",{anchorRect:t.getBoundingClientRect(),side:n.SIDE_OPTIONS[i],shouldAvoidCollisions:!1,sideOffset:e/2-10}),function(e,t,i,o){var r=document.createElement("margin"),d=i.getBoundingClientRect(),a=d.width,c=d.height,s=[a,t,a,t][e],l=[t,c,t,c][e];g(r,{width:s,height:l}),g(r,n.getPlacementData({popperSize:{width:s,height:l},sideOffset:0,align:"start",side:o,alignOffset:0,collisionBoundariesRect:DOMRect.fromRect({width:window.innerWidth,height:window.innerHeight,x:0,y:0}),anchorRect:i.getBoundingClientRect(),collisionTolerance:0,shouldAvoidCollisions:!1}).popperStyles),document.body.appendChild(r)}(i,e,t,n.SIDE_OPTIONS[i]))}))}}function d(e){var n=e.filter(p)[0];if(n){n.setAttribute("data-inspx-active","");var t=n.getBoundingClientRect(),i=t.width,o=t.height,r=t.top,d=t.left,a=t.right,c=t.bottom,s=document.createElement("inspx");s.innerText=Math.round(i)+" x "+Math.round(o),s.setAttribute("type","size"),document.body.appendChild(s);var l=s.getBoundingClientRect();g(s,h({x:(d+a)/2-l.width/2,y:(r+c)/2-l.height/2}))}}function a(e){var i=e.filter(u)[0];if(i){i.setAttribute("data-inspx-active","");var r=window.getComputedStyle(i),d=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft].map((function(e){return parseInt(e,10)}));d.forEach((function(e,t){e&&o(String(e),"padding",{anchorRect:i.getBoundingClientRect(),side:n.SIDE_OPTIONS[t],shouldAvoidCollisions:!1,sideOffset:-e/2-10})})),function(e,n){var i=document.createElement("padding"),o=e.getBoundingClientRect(),r=o.width,d=o.height;g(i,t({},h({x:o.x,y:o.y}),{width:r,height:d,"border-top-width":n[0],"border-right-width":n[1],"border-bottom-width":n[2],"border-left-width":n[3]})),document.body.appendChild(i)}(i,d)}}function c(){Array.from(document.querySelectorAll("[data-inspx-active]")).forEach((function(e){e.removeAttribute("data-inspx-active")})),Array.from(document.querySelectorAll("inspx")).forEach((function(e){document.body.removeChild(e)})),Array.from(document.querySelectorAll("margin")).forEach((function(e){document.body.removeChild(e)})),Array.from(document.querySelectorAll("padding")).forEach((function(e){document.body.removeChild(e)}))}function s(e){return!!parseInt(e,10)}function l(e){var n=window.getComputedStyle(e);return s(n.marginTop)||s(n.marginRight)||s(n.marginBottom)||s(n.marginLeft)||s(n.margin)}function u(e){var n=window.getComputedStyle(e);return s(n.paddingTop)||s(n.paddingRight)||s(n.paddingBottom)||s(n.paddingLeft)||s(n.padding)}function p(e){var n=window.getComputedStyle(e);return s(n.width)&&s(n.height)}function g(e,n){Object.entries(n).forEach((function(n){var t=n[1];e.style.setProperty(n[0],"number"==typeof t?t+"px":t)}))}function h(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:"translate3d("+Math.round(e.x+window.scrollX)+"px, "+Math.round(e.y+window.scrollY)+"px, 0)"}}exports.default=function(n){var t=n.children,o=n.margin,s=void 0===o||o,l=n.padding,u=void 0===l||l,p=n.size,g=void 0===p||p,h=n.disabled,f=void 0===h||h,m=e.useRef([]);return e.useEffect((function(){function e(e){"Alt"===e.key&&(s&&r(m.current),g&&d(m.current),u&&a(m.current))}function n(e){"Alt"===e.key&&c()}function t(){i?c():(s&&r(m.current),g&&d(m.current),u&&a(m.current)),i=!i}return f||(window.addEventListener("keyup",n),window.addEventListener("keydown",e),window.addEventListener("inspxswitch",t)),function(){window.removeEventListener("keyup",n),window.removeEventListener("keydown",e),window.removeEventListener("inspxswitch",t)}}),[s,g,u,f]),f?e.createElement(e.Fragment,null,t):e.createElement("span",{onMouseOver:function(e){e.stopPropagation(),c();var n=document.elementsFromPoint(e.clientX,e.clientY);m.current=n,(e.altKey||i)&&(s&&r(n),g&&d(n),u&&a(n))}},t)};
//# sourceMappingURL=inspx.cjs.production.min.js.map
